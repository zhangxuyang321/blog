---
layout: pots
title: 数据结构与算法(11)_哈希算法
date: 2018-12-28 10:45:14
tags: [算法,笔记]
categories: 算法
---
## 哈希算法
将任意长度的二进制串映射为固定长度的二进制串,这个映射规则就是<font color=red>哈希算法</font>,而通过原始数据映射之后得到的二进制串就是<font color=red>哈希值</font>.设计一个哈希算法需要满足几点要求:

* 从哈希值不能反像推导出原始数据.(所以哈希算法也叫单向哈希算法)
* 对输入数据非常敏感,哪怕原始数据只修改了一个Bit,最后得到的哈希值也大不相同.
* 散列冲突的概率要很小,对于不同的原始数据,哈希值相同的概率要非常小;
* 哈希算法的执行效率要尽量高效,针对较长的文本,也能快速的计算出哈希值.

## 哈希算法的应用
### 安全加密
最常用于加密的哈希算法是<font color=red>MD5</font>和<font color=red>SHA</font>.还有很多其他加密算法比如<font color=red>DES</font>,<font color=red>AES</font>.

为什么哈希算法无法做到零冲突?

哈希算法产生的哈希值的长度固定且有限.比如上面提到的MD5例子,哈希值固定是128位二进制串,能表示的数据是有限的,最多能表示2^128个数据,而我们要哈希的数据是无穷的.

没有绝对安全的加密.越复杂越安全的加密算法,需要计算的时间就越长

### 唯一标识
例如要在海量图库中,搜索一张图片是否存在,我们不能单纯的图片元信息(比如图片名称)来对比,因为图片名称和图片往往是不相符的.那该如何搜索呢?

比较笨的方法是,用二进制串码一一对比,但是这样比对起来非常耗时.

我们可以给每一张图片取一个唯一标识或者说信息摘要.比如,可以从图片的二进制码串开头曲100个字节,中间取100个字节,从最后再取100个字节,然后将这300个字节放在一起通过哈希算法,得到一个哈希字符串,用它做图片的唯一标识.通过这个唯一标识来判定图片是否存在.

### 数据校验
BT下载的原理是基于P2P协议的.我们从多个机器上并行下载一个2G电影,这个电影会被分成很多文件块.等所有文件块下载完成后再组装成一个完整的电影.

但是在下载中,文件块可能下载不全或者被恶意修改.这个时候就需要数据验证.

我们通过哈希算法,对多个文件块分别取哈希值,并保存在种子文件中.当下载完成后,再通过相同的哈希算法,对下载好的文件逐一求哈希值